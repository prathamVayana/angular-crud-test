<h2>Posts</h2>

<app-create-posts/>

@if (viewModel$ | async; as vm) {
  @if (vm.loading) {
    <app-loading/>
  }
  @else if (vm.error) {
    <p class="error">Error: {{ vm.error }}</p>
  }
  @else if (vm.posts.length > 0) {
    @for (p of vm.posts; track p) {
      <app-card [post]="p" (handleDeletePost)="deletePost(p.id)" />
    }
  }
  @else {
    <p>No posts found.</p>
  }
}
